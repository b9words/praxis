### **Part 1: The Strategic Goal â€” The "Founding 100" Waitlist**

The goal is not just to collect emails, but to build a sense of an exclusive, founding cohort. The messaging should be aspirational.

*   **Page Title:** "The Praxis Network"
*   **Headline:** "Connect with the Next Generation of Leaders."
*   **Sub-headline:** "The Praxis Network is a private, curated community for ambitious operators and entrepreneurs. Membership is currently being formed."
*   **Call to Action (CTA):** "Join the Founding 100 Waitlist"
*   **Incentive:** "The first 100 members will become Founding Members, gaining exclusive access and a permanent 'Founder' status within the community."

---

### **Part 2: The Technical Implementation Plan (Minimal & Simple)**

This requires three small additions to your codebase: a new database table, a new API route, and a new page.

#### **Step 1: Enhance Your Database Schema (`prisma/schema.prisma`)**

We need a simple table to store the waitlist signups. This keeps it separate from your core user profiles.

```prisma
// In prisma/schema.prisma

model CommunityWaitlist {
  id        String   @id @default(uuid())
  userId    String   @unique @map("user_id") // Link to the user's profile
  email     String   // Denormalize for easy access
  createdAt DateTime @default(now()) @map("created_at")

  // Relation to the Profile table
  user Profile @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@map("community_waitlist")
}
```

*   **Action:** Add this model to your `schema.prisma` and run `npm run db:push`. This creates the `community_waitlist` table.

#### **Step 2: Create the API Endpoint (`app/api/community/waitlist/route.ts`)**

This is a single, simple API route to handle the form submission. It's secure and prevents duplicate entries.

```typescript
// In app/api/community/waitlist/route.ts

import { NextResponse } from 'next/server';
import { getCurrentUser } from '@/lib/auth/get-user';
import { prisma } from '@/lib/prisma/server';

export async function POST(request: Request) {
  const user = await getCurrentUser();

  if (!user || !user.email) {
    return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });
  }

  try {
    // Check if user is already on the waitlist
    const existingEntry = await prisma.communityWaitlist.findUnique({
      where: { userId: user.id },
    });

    if (existingEntry) {
      return NextResponse.json({ message: 'You are already on the waitlist.' }, { status: 200 });
    }

    // Add user to the waitlist
    await prisma.communityWaitlist.create({
      data: {
        userId: user.id,
        email: user.email,
      },
    });

    // You could also trigger a "waitlist confirmation" email here if desired.

    return NextResponse.json({ success: true }, { status: 201 });

  } catch (error) {
    console.error('Waitlist signup error:', error);
    return NextResponse.json({ error: 'Failed to join waitlist.' }, { status: 500 });
  }
}
```

#### **Step 3: Create the Community Waitlist Page (`app/(app)/community/page.tsx`)**

This is the user-facing page. It will be protected by your middleware, so only logged-in users can access it.

```typescript
// In app/(app)/community/page.tsx

import { getCurrentUser } from '@/lib/auth/get-user';
import { prisma } from '@/lib/prisma/server';
import WaitlistClientPage from './WaitlistClientPage';

export default async function CommunityPage() {
  const user = await getCurrentUser();

  // Fetch the total number of people on the waitlist
  const waitlistCount = await prisma.communityWaitlist.count();

  // Check if the current user is already on the waitlist
  const isOnWaitlist = user
    ? !!(await prisma.communityWaitlist.findUnique({
        where: { userId: user.id },
      }))
    : false;

  return (
    <WaitlistClientPage
      initialWaitlistCount={waitlistCount}
      initialIsOnWaitlist={isOnWaitlist}
    />
  );
}
```

#### **Step 4: Create the Client Component (`app/(app)/community/WaitlistClientPage.tsx`)**

This component handles the user interaction (the form and button states).

```typescript
// In app/(app)/community/WaitlistClientPage.tsx
'use client';

import { useState } from 'react';
import { Button } from '@/components/ui/button';
import { Progress } from '@/components/ui/progress';
import { Users, CheckCircle2 } from 'lucide-react';
import { toast } from 'sonner';

interface WaitlistClientPageProps {
  initialWaitlistCount: number;
  initialIsOnWaitlist: boolean;
}

export default function WaitlistClientPage({
  initialWaitlistCount,
  initialIsOnWaitlist,
}: WaitlistClientPageProps) {
  const [isOnWaitlist, setIsOnWaitlist] = useState(initialIsOnWaitlist);
  const [waitlistCount, setWaitlistCount] = useState(initialWaitlistCount);
  const [isLoading, setIsLoading] = useState(false);

  const progressPercentage = Math.min(100, (waitlistCount / 100) * 100);

  const handleJoinWaitlist = async () => {
    setIsLoading(true);
    try {
      const response = await fetch('/api/community/waitlist', {
        method: 'POST',
      });

      if (!response.ok) {
        throw new Error('Failed to join the waitlist.');
      }

      toast.success("You're on the list! We'll notify you when the doors open.");
      setIsOnWaitlist(true);
      setWaitlistCount((prev) => prev + 1);
    } catch (error) {
      toast.error(error instanceof Error ? error.message : 'An unexpected error occurred.');
    } finally {
      setIsLoading(false);
    }
  };

  return (
    <div className="min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
      <div className="max-w-2xl w-full space-y-8 text-center">
        <div className="mx-auto h-12 w-12 text-gray-400">
          <Users className="h-full w-full" />
        </div>

        <h1 className="text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl">
          The Praxis Network is Being Forged.
        </h1>

        <p className="mt-4 text-lg leading-8 text-gray-600">
          Connect with a private, curated community of ambitious operators and entrepreneurs. Membership is currently being formed and will open exclusively to the first 100 leaders.
        </p>

        <div className="w-full bg-white border border-gray-200 p-6">
          <h3 className="text-sm font-medium text-gray-900 mb-4">
            Founding Member Progress
          </h3>
          <Progress value={progressPercentage} className="w-full h-2 mb-2" />
          <div className="flex justify-between text-sm font-medium text-gray-700">
            <span>{waitlistCount} Leaders</span>
            <span>100 Founding Members</span>
          </div>
        </div>

        {isOnWaitlist ? (
          <div className="flex items-center justify-center gap-2 p-4 bg-green-50 border border-green-200 text-green-800">
            <CheckCircle2 className="h-5 w-5" />
            <p className="font-medium">You are on the Founding 100 Waitlist.</p>
          </div>
        ) : (
          <Button
            onClick={handleJoinWaitlist}
            disabled={isLoading}
            size="lg"
            className="w-full bg-gray-900 hover:bg-gray-800 text-white rounded-none py-6 text-lg"
          >
            {isLoading ? 'Joining...' : 'Join the Founding 100 Waitlist'}
          </Button>
        )}

        <p className="text-xs text-gray-500">
          Founding Members will receive exclusive access, a permanent 'Founder' status, and will help shape the future of the community.
        </p>
      </div>
    </div>
  );
}
```

#### **Step 5: Add Link to Main Navigation (`components/layout/Navbar.tsx`)**

Finally, add the link to your main app navigation so users can find the page.

*   **Action:** In `components/layout/Navbar.tsx`, find the `navLinks` array and add a new entry for the community.

    ```typescript
    // In components/layout/Navbar.tsx

    // ... imports
    import { Users } from 'lucide-react'; // Add Users icon

    // ...

    const navLinks = [
      { 
        href: '/dashboard', 
        label: 'Dashboard',
        icon: BarChart3,
        description: 'Your analytical workspace'
      },
      { 
        href: '/library/curriculum', 
        label: 'Library',
        icon: BookOpen,
        description: /* ... */
      },
      { 
        href: '/simulations', 
        label: 'Simulations',
        icon: Target,
        description: /* ... */
      },
      // --- ADD THIS NEW ENTRY ---
      {
        href: '/community',
        label: 'Network',
        icon: Users,
        description: 'Connect with peers'
      }
    ];
    ```

This simple, five-step plan fully implements the waitlist, bridging the gap for your "Connect" pillar until you are ready for a full launch. It's secure, scalable, and perfectly aligned with your product's exclusive, high-quality brand identity.